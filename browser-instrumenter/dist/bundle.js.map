{"version":3,"sources":["webpack:///webpack/bootstrap 7dc02ffc482d1c740ad0","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./src/index.ts","webpack:///../common/common.ts","webpack:///./node_modules/uuid/index.js","webpack:///./node_modules/uuid/v1.js","webpack:///./node_modules/uuid/v4.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7dc02ffc482d1c740ad0","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && msCrypto.getRandomValues.bind(msCrypto));\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/rng-browser.js\n// module id = 0\n// module chunks = 0","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/bytesToUuid.js\n// module id = 1\n// module chunks = 0","/*\nMIT License\n\nCopyright (c) 2018 Bryan Hughes <bryan@nebri.us>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n\nimport { HEADER_NAME, EVENT_NAMES, IMeasurementEvent, IService } from './common/common';\nimport { v4 as uuid } from 'uuid';\n\nconst serviceId = uuid();\n\nexport interface IOptions {\n  serverHostname: string;\n  serverPort: number;\n  serviceName: string;\n}\n\nlet options: IOptions;\nlet isInitialized = false;\n\nexport function init(newOptions: IOptions, cb?: (err: Error | undefined) => void): void {\n\n  options = newOptions;\n\n  // Patch fetch\n  if (window.fetch) {\n    const oldFetch = window.fetch;\n    window.fetch = function fetch(input: string | Request, fetchInit?: RequestInit): Promise<Response> {\n      const requestId = uuid();\n      if (fetchInit) {\n        if (fetchInit.headers) {\n          if (fetchInit.headers instanceof Headers) {\n            fetchInit.headers.set(HEADER_NAME, requestId);\n          } else {\n            (fetchInit.headers as any)[HEADER_NAME] = requestId;\n          }\n        } else {\n          fetchInit.headers = {\n            [HEADER_NAME]: requestId\n          };\n        }\n      } else {\n        fetchInit = {\n          headers: {\n            [HEADER_NAME]: requestId\n          }\n        };\n      }\n      const beginEvent = begin(requestId, EVENT_NAMES.BROWSER_HTTP_CLIENT_REQUEST, {\n        url: typeof input === 'string' ? input : input.url\n      });\n      const req = oldFetch(input, fetchInit);\n      req.then((response) => {\n        end(beginEvent);\n        return response;\n      });\n      return req;\n    };\n  }\n\n  // Register with the server\n  const service: IService = {\n    serviceId,\n    serviceName: 'client'\n  };\n  const registerReq = new XMLHttpRequest();\n  registerReq.open('POST', `http://${options.serverHostname}:${options.serverPort}/api/register`);\n  registerReq.addEventListener('load', () => {\n    isInitialized = true;\n    if (cb) {\n      cb(undefined);\n    }\n  });\n  registerReq.addEventListener('error', (e) => cb && cb(e.error));\n  registerReq.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n  registerReq.send(JSON.stringify(service));\n}\n\nfunction sendEvent(event: IMeasurementEvent): void {\n  const req = new XMLHttpRequest();\n  req.open('POST', `http://${options.serverHostname}:${options.serverPort}/api/events`);\n  req.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n  req.send(JSON.stringify(event));\n}\n\nfunction begin(requestId: string, type: string, details: { [ key: string ]: any } = {}): IMeasurementEvent {\n  if (!isInitialized) {\n    throw new Error('\"begin\" was called before Request Inspector was finished initializing');\n  }\n  if (typeof type !== 'string') {\n    throw new Error('\"name\" must be a string');\n  }\n  if (!requestId) {\n    throw new Error('Internal Error: could not get request ID. ' +\n      'This is a bug in Request Inspector, please report it to the author.');\n  }\n  const newEntry: IMeasurementEvent = {\n    eventId: requestId,\n    serviceId,\n    requestId,\n    type,\n    start: Date.now(),\n    end: NaN,\n    details\n  };\n  sendEvent(newEntry);\n  return newEntry;\n}\n\nfunction end(event: IMeasurementEvent, details: { [ key: string ]: any } = {}): void {\n  if (!isInitialized) {\n    throw new Error('\"begin\" was called before Request Inspector was finished initializing');\n  }\n  if (!isNaN(event.end)) {\n    throw new Error(`\"end\" called twice for ${event.type}:${event.eventId}`);\n  }\n  event.end = Date.now();\n  event.details = {\n    ...event.details,\n    ...details\n  };\n  sendEvent(event);\n}\n\n(window as any).requestInspector = {\n  init,\n  begin,\n  end\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","/*\nMIT License\n\nCopyright (c) 2018 Bryan Hughes <bryan@nebri.us>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n\nexport interface IMeasurementEvent {\n  eventId: string;\n  requestId: string;\n  serviceId: string;\n  type: string;\n  start: number;\n  end: number;\n  details: { [ key: string ]: any };\n}\n\nexport interface IService {\n  serviceId: string;\n  serviceName: string;\n}\n\nexport const EVENT_NAMES = {\n  NODE_HTTP_SERVER_REQUEST: 'builtin:node:server-request',\n  BROWSER_HTTP_CLIENT_REQUEST: 'builtin:browser:client-request'\n};\n\nexport const HEADER_NAME = 'x-request-inspector-request-ID';\n\n\n\n// WEBPACK FOOTER //\n// ../common/common.ts","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/index.js\n// module id = 4\n// module chunks = 0","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/v1.js\n// module id = 5\n// module chunks = 0","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/v4.js\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}