<!DOCTYPE html>
<html>
  <head>
    <title>Request Inspector</title>
    <link rel="stylesheet" type="text/css" href="/static/style.css">
  </head>
  <body>
    {{#each requests}}
      <div class="request">
        <div><h3>Request {{this.url}}</h3></div>
        {{#if this.durationValid}}
        <div>Duration: {{this.duration}}ms</div>
        {{else}}
        <div>Duration: -</div>
        {{/if}}
        <div>
          <p>Events:</p>
          <div class="events-container">
            <div class="event" >
              <div class="name header">Type</div>
              <div class="service header">Service</div>
              <div class="duration header">Length</div>
              <div class="timeline header">Timeline</div>
            </div>
          {{#each this.events}}
            <div class="event" title="Duration: {{this.duration}}ms&#013;{{#each this.details}}&#013;{{@key}}: {{this}}{{/each}}" >
              <div class="name">{{this.type}}</div>
              <div class="service">{{this.serviceName}}</div>
              {{#if this.durationValid}}
              <div class="duration">{{this.duration}}ms</div>
              {{else}}
              <div class="duration">-</div>
              {{/if}}
              <div class="timeline">
                {{#if this.durationValid}}
                <div class="timeline-bar" style="margin-left: {{this.left}}%; width: {{this.width}}%;"></div>
                {{/if}}
              </div>
            </div>
          {{/each}}
          </div>
        </div>
      </div>
    {{/each}}
  </body>
</html>
