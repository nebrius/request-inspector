<!DOCTYPE html>
<html>
<head>
<script>
function loadContent() {
  fetch('/api/content').then(function(response) {
    return response.text();
  }).then(function(content) {
    const iframe = document.getElementById('contentFrame');
    iframe.srcdoc = content;
  });
  // const req = new XMLHttpRequest();
  // req.open('GET', '/api/content');
  // req.addEventListener('load', () => {
  //   const iframe = document.getElementById('contentFrame');
  //   iframe.srcdoc = req.responseText;
  // });
  // req.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
  // req.send(JSON.stringify(event));
}
</script>
<script src="/request_inspector.js"></script>
<script>
  console.log('initializing');
  window.requestInspector.init({
    serverHostname: 'localhost',
    serverPort: 7176,
    serviceName: 'browser',
  }, () => {
    console.log('Request Instrumeter loaded');
  });
</script>
</head>
<body>
  <div>
    <button onclick="loadContent()">Click to load the content</button>
  </div>
  <iframe id="contentFrame" />
</body>
</html>
